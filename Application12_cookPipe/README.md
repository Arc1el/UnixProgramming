# cookPipe

<h3>요구사항</h3>

응용과제 10를 개선하여

주문 및 완료를 SIGUSR1 대신 pipe를 이용하여 전달하는 방식으로 개선 

<h3>구현</h3>

1. 부모는 자식에게 문자열로 메뉴입력받아 파이프로 전달

- pipe를 사용하여 파이프를 생성, 부모자식 프로세스간 통신에 사용하였습니다.

2. 자식은 파이프로 문자열을 전달받아 fprintf(stderr)로 출력, 부모에게 전달할 문자열을 파이프에 작성

- 부모에서 fgets함수를 사용하여 stdin으로 메뉴를 입력받은 후 write함수를 호출하여 c2k_fd[1]에 쓰기해주어 파이프에 기록하였습니다.

자식은 부모가 기록한 파이프를 exec이전 dup2함수를 사용하여 0과 1로 사용하기로 하 였기 때문에 read(0)으로 파이프 내용을 읽어오고

write(1)로 파이프에 기록합니다. 자식은 알람이 호출되면 success라는 문자열을 파이프에 기록하고 부모는 k2c_fd[0]을 읽어

success라는 문자와 일치하면 음식을 제공합니다.

3. alrm함수를 사용하여 요리시작

- alrm함수를 사용하여 알람시간을 매개변수로 넣고 시그널을 발생시킵니다. 이때의 alrm시그널은 미리 작성해둔 알람 핸들러가 처리하게됩니다. (응용 10과 동일)

4. 부모가 자식이 파이프에 쓰기한 것을 확인 후 자식이 파이프에 작성한 문자열을 불러와 비교

- 자식이 write(1)을 통해 파이프에 success라는 문자열을 기록하면 부모는 read를 사용하여 k2c_fd[0]에 무엇인

가 기록되면 success라는 문자열과 비교하여 문자열이 동일하면 음식을 제공한다는 문구를 출력합니다.

6. 반복 수행

- 반복적으로 수행하도록 메뉴 입력부터 완성 종료까지를 while(1)로 무한루프 돌려주었고, 자식또한 종료되지 않도록

while(1)로 무한루프를 돌린 후 파이프에 무엇인가 기록될 경우 동작하도록 하였습니다.
